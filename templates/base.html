<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />

		<!-- Favicon -->
		<link
			rel="icon"
			type="image/svg+xml"
			href="{{ full_url_for('static', filename='images/favicon.svg') }}"
		/>
		<link
			rel="icon"
			type="image/png"
			href="{{ full_url_for('static', filename='images/favicon.png') }}"
		/>
		<link
			rel="icon"
			sizes="32x32"
			href="{{ full_url_for('static', filename='images/favicon-32x32.svg') }}"
		/>
		<link
			rel="icon"
			sizes="16x16"
			href="{{ full_url_for('static', filename='images/favicon-16x16.svg') }}"
		/>
		<link
			rel="shortcut icon"
			href="{{ full_url_for('static', filename='images/favicon.ico') }}"
		/>
		<link
			rel="apple-touch-icon"
			href="{{ full_url_for('static', filename='images/favicon.svg') }}"
		/>
		<meta name="theme-color" content="#007bff" />
		<meta name="msapplication-TileColor" content="#007bff" />
		<meta
			name="msapplication-TileImage"
			content="{{ full_url_for('static', filename='images/favicon.svg') }}"
		/>

		<title>{% block title %}Log Monitor{% endblock %}</title>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
			rel="stylesheet"
		/>
		<link
			href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
			rel="stylesheet"
		/>
		<link
			href="{{ full_url_for('static', filename='css/style.css') }}"
			rel="stylesheet"
		/>
	</head>
	<body>
		<!-- Navigation -->
		<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
			<div class="container">
				<a class="navbar-brand" href="{{ full_url_for('index') }}">
					<i class="fas fa-chart-line me-2"></i>Log Monitor
				</a>
				<button
					class="navbar-toggler"
					type="button"
					data-bs-toggle="collapse"
					data-bs-target="#navbarNav"
				>
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse" id="navbarNav">
					<ul class="navbar-nav me-auto">
						<li class="nav-item">
							<a class="nav-link" href="{{ full_url_for('index') }}">
								<i class="fas fa-tachometer-alt me-1"></i>Dashboard
							</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="{{ full_url_for('logs') }}">
								<i class="fas fa-file-alt me-1"></i>Logs
							</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="{{ full_url_for('apps') }}">
								<i class="fas fa-server me-1"></i>Applications
							</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="{{ full_url_for('users') }}">
								<i class="fas fa-users me-1"></i>Users
							</a>
						</li>
					</ul>
					<ul class="navbar-nav">
						{% if current_user.is_authenticated %}
						<li class="nav-item dropdown">
							<a
								class="nav-link dropdown-toggle"
								href="#"
								id="navbarDropdown"
								role="button"
								data-bs-toggle="dropdown"
							>
								<i class="fas fa-user me-1"></i>{{ current_user.username }}
							</a>
							<ul class="dropdown-menu">
								<li>
									<a class="dropdown-item" href="{{ full_url_for('profile') }}">
										<i class="fas fa-user-cog me-1"></i>Profile Settings
									</a>
								</li>
								<li><hr class="dropdown-divider" /></li>
								<li>
									<a class="dropdown-item" href="{{ full_url_for('logout') }}">
										<i class="fas fa-sign-out-alt me-1"></i>Logout
									</a>
								</li>
							</ul>
						</li>
						{% else %}
						<li class="nav-item">
							<a class="nav-link" href="{{ full_url_for('login') }}">
								<i class="fas fa-sign-in-alt me-1"></i>Login
							</a>
						</li>
						<!--  -->
						{% endif %}
						<li class="nav-item">
							<span class="navbar-text">
								<i class="fas fa-clock me-1"></i>
								<span id="current-time"></span>
							</span>
						</li>
					</ul>
				</div>
			</div>
		</nav>

		<!-- Main Content -->
		<main class="container-fluid py-4">{% block content %}{% endblock %}</main>

		<!-- Footer -->
		<footer class="bg-light text-center py-3 mt-5">
			<div class="container">
				<p class="text-muted mb-0">
					<i class="fas fa-code me-1"></i>
					Log Monitor Web UI - Built with Flask & Bootstrap
				</p>
			</div>
		</footer>

		<!-- Scripts -->
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
		<script>
			// Make SITE_URL available to JavaScript
			window.SITE_URL = "{{ site_url }}";
		</script>
		<script src="{{ full_url_for('static', filename='js/main.js') }}"></script>
		{% block scripts %}{% endblock %}
	</body>
</html>
